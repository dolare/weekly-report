(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{154:function(e,t,o){"use strict";o.r(t);var i=o(0),a=Object(i.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"content"},[o("h1",{attrs:{id:"functional-programming-in-javascript"}},[e._v("Functional Programming In JavaScript")]),o("p"),o("div",{staticClass:"table-of-contents"},[o("ul",[o("li",[o("a",{attrs:{href:"#functional-programming-in-javascript"}},[e._v("Functional Programming In JavaScript")]),o("ul",[o("li",[o("a",{attrs:{href:"#does-the-ttfb-time-to-first-byte-really-matter"}},[e._v("Does the TTFB (Time to First Byte) really matter?")])]),o("li",[o("a",{attrs:{href:"#what-is-ttfb"}},[e._v("What is TTFB?")])]),o("li",[o("a",{attrs:{href:"#is-it-my-server-or-is-it-the-network"}},[e._v("Is it my server, or is it the network?")])]),o("li",[o("a",{attrs:{href:"#measuring-network-time"}},[e._v("Measuring network time")])]),o("li",[o("a",{attrs:{href:"#measuring-server-response-time"}},[e._v("Measuring server response time")])]),o("li",[o("a",{attrs:{href:"#how-can-i-measure-my-ttfb-on-different-networks"}},[e._v("How can I measure my TTFB on different networks?")])]),o("li",[o("a",{attrs:{href:"#conclusion"}},[e._v("Conclusion")])])])])])]),o("p"),o("hr"),o("p",[o("img",{attrs:{src:"https://s-media-cache-ak0.pinimg.com/564x/b3/9e/ec/b39eecc137460903f4a40f28c0eaed86.jpg",alt:""}})]),o("p",[e._v("Have you ever opened Chrome's DevTools and wondered what everything meant?")]),o("p",[e._v("I've had questions like: "),o("strong",[e._v("What should I be looking at? What should I try to optimize, and how?")])]),o("p",[e._v("Since I wanted answers, I set out on a mission to filter out the most important information. Then, I dug deeper to understand what needed to be fixed, and how to fix it.")]),o("p",[e._v("This article is a result of this mission. Let's take a look at what "),o("strong",[e._v("Waiting (TTFB)")]),e._v(" represents, and let's answer three important questions: "),o("strong",[e._v("Should it be optimized? When should it be optimized? How can one optimize it?")])]),o("h2",{attrs:{id:"does-the-ttfb-time-to-first-byte-really-matter"}},[e._v("Does the TTFB (Time to First Byte) really matter?")]),o("p",[e._v("Yes, it does.")]),o("p",[e._v("So then the question becomes, should you focus your efforts on optimizing it for a faster website? It depends.")]),o("p",[e._v("What does it depend on? How slow your TTFB is.")]),o("p",[e._v("There's a point when any further optimization won't give you as much of a return. Also, as Ilya says in his post, the timing isn't the only thing that mattersâ€”what's also important is what's in those first bytes.")]),o("p",[e._v("In the following example, the TTFB is pretty good. 160ms is a decent number, although it could be a bit better. (I'll explain how to make it better in a moment)")]),o("p",[o("img",{attrs:{src:"https://s-media-cache-ak0.pinimg.com/564x/64/bb/e2/64bbe2ed2b717bfdd612b33999e58a36.jpg",alt:""}})]),o("p",[e._v("However, I go on sites with 1+ second TTFB for relatively simple pages and that, my friends, can be optimized.")]),o("p",[o("img",{attrs:{src:"https://s-media-cache-ak0.pinimg.com/564x/81/9a/34/819a343ca6e4eadfb22066a20faa4428.jpg",alt:""}})]),o("p",[e._v("Check your timing and see, but remember that just because you don't have a long TTFB doesn't mean your visitors don't.")]),o("p",[e._v("How come? That's what we're about to find out. First, let's explain what the TTFB actually represents, and that will explain why the number changes depending on a number of factors.\n9")]),o("h2",{attrs:{id:"what-is-ttfb"}},[e._v("What is TTFB?")]),o("p",[e._v("Time to First Byte is how long the browser has to wait before receiving data. In other words, it is the time waiting for the initial response. That's why it's pretty important...in order for your page to be rendered, it needs to receive the necessary HTML data. The longer it takes to get that data, the longer it takes to display your page.")]),o("p",[e._v("The thing is, just because your TTFB is 130ms doesn't mean that someone in Canada or Brazil will have the same number. In fact, they won't.")]),o("p",[e._v("Here's why.")]),o("p",[e._v("The Waiting (TTFB) represents a number of things, like:\n1. Server response time\n2. Time to transfer bytes (a.k.a latency of the round trip)")]),o("p",[e._v("Server response time: This is how long it takes for your server to generate a response and send it back. The good news, if this is the bottleneck, is that you have more control over it. Well, assuming you have access to the server.")]),o("p",[e._v("The bad news is that you have some work to do. You have to figure out which part of your system is taking time to respond, and that could be a number of things.")]),o("p",[e._v("By the way, according to Google's PageSpeed Insights, your server response time should be below 200ms.")]),o("p",[e._v("If your response time is higher than that (we'll talk about figuring out your timing in the next section), there are a number of possible reasons, like:")]),o("ol",[o("li",[e._v("Slow database queries")]),o("li",[e._v("Slow logic")]),o("li",[e._v("Resource starvation")]),o("li",[e._v("Too many slow frameworks/libraries/dependencies")]),o("li",[e._v("Slow hardware")])]),o("p",[e._v("Time to transfer bytes: Internet can be pretty darn fast depending on where you are and what kind of connection you have access to, but even then we are limited by the distance packets have to travel. According to Ilya Grigorik, we're already quite close to the speed of light so we shouldn't expect more speed there unless we bend physics. The way to speed things up, then, is to shorten distances.")]),o("p",[e._v("That's where CDNs come in, and that's how you can improve this part.")]),o("p",[e._v("If your server responds very quickly, and the bytes have to travel a very short distance, your TTFB should be low. That doesn't mean a user won't run into a slow TTFB if they have a crappy connection or live far away from any of your CDN nodes. That's one reason why the CDN provider that you choose is important.")]),o("h2",{attrs:{id:"is-it-my-server-or-is-it-the-network"}},[e._v("Is it my server, or is it the network?")]),o("p",[e._v("This is an important question to answer, because it will make all the difference in how you go about optimizing your TTFB.")]),o("p",[e._v("If your server is fast enough but the network is causing delays, optimizing your server is a waste of time and won't give you the results you're looking for.")]),o("p",[e._v("So how can you tell?")]),o("p",[e._v("Measure, measure, measure.")]),o("p",[e._v("Thankfully, there are tools out there to help with this.")]),o("h2",{attrs:{id:"measuring-network-time"}},[o("em",[o("strong",[e._v("Measuring network time")])])]),o("h3",{attrs:{id:"option-1"}},[e._v("Option #1")]),o("p",[e._v("One tool available is called the Navigation Timing API.\n"),o("br"),o("img",{attrs:{src:"https://s-media-cache-ak0.pinimg.com/564x/47/f8/68/47f86868cf855acae21d2bc4e4e0f473.jpg",alt:""}})]),o("p",[e._v("For example, using the fetchStart and responseStart will give you the round trip time for first byte.")]),o("p",[e._v("See how to implement the API in the introduction.")]),o("h3",{attrs:{id:"option-2"}},[e._v("Option #2")]),o("p",[e._v("You may not know this, but Google Analytics actually includes a section that lists some of this information for you.")]),o("p",[e._v("Go to Behavior -> Site Speed -> Overview, and you should be greeted with this:\n"),o("br"),o("img",{attrs:{src:"https://d1ngwfo98ojxvt.cloudfront.net/images/blog/speed/waiting_ttfb/ga_response.jpg",alt:""}}),o("br"),e._v("\nBe careful of averages, though. They hide outliers that probably shouldn't be hidden.")]),o("h2",{attrs:{id:"measuring-server-response-time"}},[o("em",[o("strong",[e._v("Measuring server response time")])])]),o("p",[e._v("While the Navigation Timing API has a requestStart option, which returns \"the time immediately before the user agent starts requesting the current document from the server\", it does not have a requestEnd due to a few reasons. That's too bad, though, because it means we will be getting a number that includes the trip back to the user's browser (since we'd have to use responseStart).")]),o("p",[e._v("Hmm. Are there any other options?")]),o("p",[e._v("There are definitely ways of profiling your data stores, web server response times, and other parts of your stack that data travels through in order to form a response. That's where monitoring tools come in.")]),o("p",[e._v("But what about timing the overall response time instead of individual pieces? Honestly, this one is tricky to find info on. Looks like some of the services mentioned in the previously linked post offer this kind of visibility.")]),o("p",[e._v("If you know of an accurate way to do this, I'd love to hear about it.")]),o("h2",{attrs:{id:"how-can-i-measure-my-ttfb-on-different-networks"}},[e._v("How can I measure my TTFB on different networks?")]),o("p",[e._v("Like I said earlier, just because your Waiting (TTFB) time is low doesn't mean all of your users will also have a low TTFB time.")]),o("p",[e._v("How can you get a more accurate representation? By throttling your own network and seeing how long it takes. That's when the true colors of your optimization efforts come out.")]),o("p",[e._v("Yes, it may be super fast when everything is cached and the origin is close to you, but what about when your user is halfway across the world?")]),o("p",[e._v("Alright, so how do you throttle your connection? Thankfully, DevTools makes this quite easy.")]),o("p",[e._v('Click on "No Throttling" and select the option you want.')]),o("p",[o("img",{attrs:{src:"https://s-media-cache-ak0.pinimg.com/564x/b6/39/64/b63964349433e630a8ddbdfe39b96ec1.jpg",alt:""}})]),o("p",[e._v("I chose the GPRS which is awfully slow, and still had a pretty good time of ~600ms. Not too bad considering how bad that network is.")]),o("p",[o("img",{attrs:{src:"https://s-media-cache-ak0.pinimg.com/564x/0a/e2/b9/0ae2b9d6d492e005fe253e773c071744.jpg",alt:""}})]),o("p",[e._v("Of course, it would be better if you actually had real people testing this on different kinds of networks, devices, and in different locations.")]),o("h2",{attrs:{id:"conclusion"}},[e._v("Conclusion")]),o("p",[e._v("While DevTools can be confusing at first sight (because web performance is complicated), I hope this article gave you a better understanding of the Waiting (TTFB) results.")]),o("p",[e._v("Another important thought to retain from reading this is that even if your website loads very quickly on your own devices and networks, it doesn't mean that the same holds for all networks and devices. Measure as much as you can. That's the only way you can paint a more accurate picture of what's going on and whether you are prematurely optimizing or not.")]),o("p",[e._v("Happy learning!")])])}],!1,null,null,null);t.default=a.exports}}]);